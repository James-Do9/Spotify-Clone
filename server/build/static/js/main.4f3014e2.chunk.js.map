{"version":3,"sources":["images/audio-player.svg","images/ariana-grande-positions.png","images/bad-bunny.png","images/billie-eilish.png","images/bts-mos.png","images/dua-lipa-FN.png","images/harry-styles-fl.png","images/juice-wrld-lnd.png","images/post-malone-hb.png","images/the-weeknd-ah.png","Login.js","TrackSearchResult.js","Player.js","Dashboard.js","useAuth.js","App.js","images/spotify.png","Navbar.js","index.js"],"names":["AUTH_URL","login","className","style","minHeight","src","audioImg","href","arianaGrandeImg","badBunnyImg","duaLipaImg","btsImg","theWeekndImg","harryStylesImg","juiceWrldImg","postMaloneImg","billieEilishImg","TrackSearchResult","track","chooseTrack","cursor","onClick","albumUrl","height","width","title","artist","Player","accessToken","trackUri","useState","play","setPlay","useEffect","token","showSaveIcon","callback","state","isPlaying","uris","spotifyApi","SpotifyWebApi","clientId","Dashboard","code","setAccessToken","refreshToken","setRefreshToken","expiresIn","setExpiresIn","axios","post","then","res","data","window","history","pushState","catch","location","interval","setInterval","clearInterval","useAuth","search","setSearch","searchResults","setSearchResults","playingTrack","setPlayingTrack","lyrics","setLyrics","get","params","cancel","searchTracks","body","tracks","items","map","smallestAlbumImage","album","images","reduce","smallest","image","artists","name","uri","url","Form","Control","type","placeholder","value","onChange","e","target","key","length","whiteSpace","URLSearchParams","App","Navbar","class","spotifyImg","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4f3014e2.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/audio-player.34d30d07.svg\";","export default __webpack_public_path__ + \"static/media/ariana-grande-positions.32a226be.png\";","export default __webpack_public_path__ + \"static/media/bad-bunny.a524743c.png\";","export default __webpack_public_path__ + \"static/media/billie-eilish.ffab625d.png\";","export default __webpack_public_path__ + \"static/media/bts-mos.636fecde.png\";","export default __webpack_public_path__ + \"static/media/dua-lipa-FN.a537c49f.png\";","export default __webpack_public_path__ + \"static/media/harry-styles-fl.0e1f10d8.png\";","export default __webpack_public_path__ + \"static/media/juice-wrld-lnd.49a147e4.png\";","export default __webpack_public_path__ + \"static/media/post-malone-hb.c17f5224.png\";","export default __webpack_public_path__ + \"static/media/the-weeknd-ah.e7b180a7.png\";","import React from 'react'\r\n// import composer from \"../src/images/composer.svg\"\r\nimport audioImg from \"../src/images/audio-player.svg\"\r\nimport arianaGrandeImg from \"../src/images/ariana-grande-positions.png\"\r\nimport badBunnyImg from \"../src/images/bad-bunny.png\"\r\nimport billieEilishImg from \"../src/images/billie-eilish.png\"\r\nimport btsImg from \"../src/images/bts-mos.png\"\r\nimport duaLipaImg from \"../src/images/dua-lipa-FN.png\"\r\nimport harryStylesImg from \"../src/images/harry-styles-fl.png\"\r\nimport juiceWrldImg from \"../src/images/juice-wrld-lnd.png\"\r\nimport postMaloneImg from \"../src/images/post-malone-hb.png\"\r\nimport theWeekndImg from \"../src/images/the-weeknd-ah.png\"\r\n\r\nconst AUTH_URL =\r\n  \"https://accounts.spotify.com/authorize?client_id=3c3f72516c2c4823b6e892334f706b8b&response_type=code&redirect_uri=http://localhost:3000&scope=streaming%20user-read-email%20user-read-private%20user-library-read%20user-library-modify%20user-read-playback-state%20user-modify-playback-state\";\r\n\r\nexport default function login() {\r\n    return (\r\n        <div>\r\n        {/* //////////////////////////////Desktop Display ///////////////////////////////////*/}\r\n        <section className=\"login desktop\" style={{minHeight:\"100vh\"}}>\r\n            <div className=\"row container login-card mt-5\">\r\n                <div className=\"col-4 text-center\">\r\n                    <div className=\"login-msg\">\r\n                        <h1>Login with Spotify</h1>\r\n                        <p>Play your favorite songs on demand.</p>\r\n                        <p>Pick from the top albums!</p>\r\n                    <div>\r\n                        <div className=\"audio-img\"><img src={audioImg}></img></div>\r\n                        <a className=\"login-button mt-5\" href={AUTH_URL}>Login with Spotify</a>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n                    <div className=\"col-8\">\r\n                        <div className=\"row container\">\r\n                            <div className=\"col\">\r\n                                <img src={arianaGrandeImg}></img>\r\n                                <img src={badBunnyImg}></img>\r\n                                <img src={duaLipaImg}></img>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row container\">\r\n                            <div className=\"col\">\r\n                                <img src={btsImg}></img>\r\n                                <img src={theWeekndImg}></img>\r\n                                <img src={harryStylesImg}></img>\r\n                            </div>\r\n                        </div>\r\n                    <div className=\"row container\">\r\n                        <div className=\"col\">\r\n                            <img src={juiceWrldImg}></img>\r\n                            <img src={postMaloneImg}></img>\r\n                            <img src={billieEilishImg}></img>   \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n        {/* ///////////////////////////////Mobile Display ////////////////////////////////////////*/}\r\n        <section className=\"login mobile\" style={{minHeight:\"100vh\"}}>\r\n            <div className=\"row container login-card mt-5\">\r\n                <div className=\"col text-center\">\r\n                    <div className=\"login-msg\">\r\n                        <h1>Login with Spotify</h1>\r\n                        <p>Play your favorite songs on demand.</p>\r\n                        <p>Pick from the top albums!</p>\r\n                    <div>\r\n                        <div><img src={audioImg}></img></div>\r\n                        <a className=\"login-button mt-5\" href={AUTH_URL}>Login with Spotify</a>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\"\r\n\r\nexport default function TrackSearchResult({ track, chooseTrack }) {\r\n  function handlePlay() {\r\n    chooseTrack(track)\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"d-flex m-2 align-items-center\"\r\n      style={{ cursor: \"pointer\" }}\r\n      onClick={handlePlay}\r\n    >\r\n      <img src={track.albumUrl} style={{ height: \"64px\", width: \"64px\" }} />\r\n      <div className=\"ml-3\">\r\n        <div>{track.title}</div>\r\n        <div className=\"text-muted\">{track.artist}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import { useState, useEffect } from \"react\"\r\nimport React from 'react';\r\nimport SpotifyPlayer from \"react-spotify-web-playback\"\r\n\r\nexport default function Player({ accessToken, trackUri }) {\r\n  const [play, setPlay] = useState(false)\r\n\r\n  useEffect(() => setPlay(true), [trackUri])\r\n\r\n  if (!accessToken) return null\r\n  return (\r\n    <SpotifyPlayer\r\n      token={accessToken}\r\n      showSaveIcon\r\n      callback={state => {\r\n        if (!state.isPlaying) setPlay(false)\r\n      }}\r\n      play={play}\r\n      uris={trackUri ? [trackUri] : []}\r\n    />\r\n  )\r\n}","import {useState, useEffect} from 'react'\r\nimport React from 'react';\r\nimport useAuth from './useAuth'\r\nimport {Form} from 'react-bootstrap'\r\nimport SpotifyWebApi from 'spotify-web-api-node'\r\nimport TrackSearchResult from './TrackSearchResult'\r\nimport Player from './Player'\r\nimport axios from 'axios'\r\n\r\nconst spotifyApi = new SpotifyWebApi({\r\n    clientId:\"3c3f72516c2c4823b6e892334f706b8b\"\r\n})\r\nexport default function Dashboard({ code }) {\r\n    const accessToken = useAuth(code)\r\n    const [search, setSearch] = useState(\"\")\r\n    const [searchResults, setSearchResults] = useState([])\r\n    const [playingTrack, setPlayingTrack] = useState()\r\n    const [lyrics, setLyrics] = useState(\"\")\r\n  \r\n    function chooseTrack(track) {\r\n      setPlayingTrack(track)\r\n      setSearch(\"\")\r\n      setLyrics(\"\")\r\n    }\r\n  \r\n    useEffect(() => {\r\n      if (!playingTrack) return\r\n  \r\n      axios\r\n        .get(\"http://localhost:3001/lyrics\", {\r\n          params: {\r\n            track: playingTrack.title,\r\n            artist: playingTrack.artist,\r\n          },\r\n        })\r\n        .then(res => {\r\n          setLyrics(res.data.lyrics)\r\n        })\r\n    }, [playingTrack])\r\n  \r\n    useEffect(() => {\r\n      if (!accessToken) return\r\n      spotifyApi.setAccessToken(accessToken)\r\n    }, [accessToken])\r\n  \r\n    useEffect(() => {\r\n      if (!search) return setSearchResults([])\r\n      if (!accessToken) return\r\n  \r\n      let cancel = false\r\n      spotifyApi.searchTracks(search).then(res => {\r\n        if (cancel) return\r\n        setSearchResults(\r\n          res.body.tracks.items.map(track => {\r\n            const smallestAlbumImage = track.album.images.reduce(\r\n              (smallest, image) => {\r\n                if (image.height < smallest.height) return image\r\n                return smallest\r\n              },\r\n              track.album.images[0]\r\n            )\r\n  \r\n            return {\r\n              artist: track.artists[0].name,\r\n              title: track.name,\r\n              uri: track.uri,\r\n              albumUrl: smallestAlbumImage.url,\r\n            }\r\n          })\r\n        )\r\n      })\r\n  \r\n      return () => (cancel = true)\r\n    }, [search, accessToken])\r\n  \r\n    return (\r\n      <div className=\"dashboard\">\r\n      <div className=\"container d-flex flex-column py-2\" style={{ height: \"90vh\" }}>\r\n        <Form.Control className=\"mt-2\"\r\n          type=\"search\"\r\n          placeholder=\"Search Songs/Artists\"\r\n          value={search}\r\n          onChange={e => setSearch(e.target.value)}\r\n        />\r\n        <div className=\"flex-grow-1 my-2 scroll\">\r\n          {searchResults.map(track => (\r\n            <TrackSearchResult\r\n              track={track}\r\n              key={track.uri}\r\n              chooseTrack={chooseTrack}\r\n            />\r\n          ))}\r\n          {searchResults.length === 0 && (\r\n            <div className=\"text-center mt-5\" style={{ whiteSpace: \"pre-line\" }}>\r\n              {lyrics}\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"player mb-3\">\r\n          <Player accessToken={accessToken} trackUri={playingTrack?.uri} />\r\n        </div>\r\n      </div>\r\n      </div>\r\n    )\r\n  }","import { useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\n\r\nexport default function useAuth(code) {\r\n    const [accessToken, setAccessToken] = useState()\r\n    const [refreshToken, setRefreshToken] = useState()\r\n    const [expiresIn, setExpiresIn] = useState()\r\n\r\n    useEffect(()=>{\r\n        axios\r\n        .post('http://localhost:3001/login', {\r\n            code,\r\n        })\r\n        .then(res =>{\r\n            // console.log(res.data)\r\n            setAccessToken(res.data.accessToken)\r\n            setRefreshToken(res.data.refreshToken)\r\n            setExpiresIn(res.data.expiresIn)\r\n            window.history.pushState({}, null, '/')\r\n        })\r\n        .catch(()=>{\r\n            window.location = '/'\r\n        })\r\n    }, [code])\r\n\r\n    useEffect(()=>{\r\n        if (!refreshToken || !expiresIn) return\r\n        const interval = setInterval(()=>{\r\n        axios\r\n        .post('http://localhost:3001/refresh', {\r\n            refreshToken,\r\n        }).then(res =>{\r\n            setAccessToken(res.data.accessToken)\r\n            setExpiresIn(res.data.expiresIn)\r\n            window.history.pushState({}, null, '/')\r\n        }).catch(()=>{\r\n            window.location = '/'\r\n        })\r\n    }, (expiresIn - 60) * 1000)\r\n    return () => clearInterval(interval)\r\n    }, [refreshToken, expiresIn])\r\n\r\n    return accessToken   \r\n}\r\n","import 'bootstrap/dist/css/bootstrap.min.css';\nimport Login from './Login'\nimport Dashboard from './Dashboard'\nimport React from 'react';\n\nconst code = new URLSearchParams(window.location.search).get('code'); \n//Grabs the authorization code from the URL and passes it through the dashboard as code\nfunction App() {\n  return code ? <Dashboard code={code}/> : <Login/>\n}\n\nexport default App;\n","export default __webpack_public_path__ + \"static/media/spotify.f3214d04.png\";","import React from 'react'\r\nimport spotifyImg from \"../src/images/spotify.png\"\r\nexport default function Navbar() {\r\n    return (\r\n        <div class=\"w-100\">\r\n            <nav class=\"navbar navbar-expand-lg\">\r\n                <a class=\"navbar-brand\" href=\"#\">\r\n                    <div className=\"logo\">\r\n                        <img className=\"spotify-icon\" src={spotifyImg}></img>\r\n                        <span>Spotify Clone</span>\r\n                    </div>\r\n                </a>\r\n            </nav>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport Navbar from './Navbar';\nimport \"../src/css/index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Navbar></Navbar>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}